document.querySelector("button").addEventListener("click",(async function(){const t=function(t){const e=document.getElementById("input-text").value.split("\n");let n="";for(let t=0;t<e.length;t++)/^\d{2}:\d{2}:\d{2}\.\d{3}\s-->\s\d{2}:\d{2}:\d{2}\.\d{3}$/.test(e[t])?(n="",n+=e[t].trim()+":"):""!==e[t].trim()&&(n+=e[t]),t<e.length-1&&(n+="\n");return n}(),e=await async function(t){const e={model:"text-davinci-003",prompt:`Please summarize the following text:\n\n${t}\n\nSummary:`,temperature:.7,max_tokens:256,top_p:1,frequency_penalty:0,presence_penalty:0},n=await fetch("https://api.openai.com/v1/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer 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"},body:JSON.stringify(e)});return(await n.json()).choices[0].text.trim()}(t);document.getElementById("output-text").textContent=e}));